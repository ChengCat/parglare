<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Igor Dejanović">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Parse trees - parglare</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../style.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Parse trees";
    var mkdocs_page_input_path = "parse_trees.md";
    var mkdocs_page_url = "/parse_trees/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-68681917-1', 'igordejanovic.net');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> parglare</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../getting_started/">Getting started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../grammar/">Grammar</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../parser/">Parser parameters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../actions/">Actions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../recognizers/">Recognizers</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../conflicts/">Conflicts resolving</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Parse trees</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#parse-trees">Parse trees</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../recovery/">Error recovery</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../pglr/">pglr command</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../debugging/">Debugging</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>About</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../about/CONTRIBUTING/">Contributing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../about/LICENSE/">License</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">parglare</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Parse trees</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/igordejanovic/parglare/edit/master/docs/parse_trees.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="parse-trees">Parse trees<a class="headerlink" href="#parse-trees" title="Permanent link">&para;</a></h1>
<p>During shift/reduce operations parser will call <a href="../actions/">actions</a>. If no
user actions are provided the default actions will be called which will build the
parse tree. In the case of GLR parser multiple trees can be built simultaneously
(the parse forest). If user actions are provided, no tree building takes place
but the user actions decide what to create for each shift/reduction.</p>
<p>The nodes of parse trees are instances of either <code>NodeTerm</code> for terminal nodes
(leafs of the tree) or <code>NodeNonTerm</code> for non-terminal nodes (intermediate
nodes).</p>
<p>Each node of the tree has following attributes:</p>
<ul>
<li><code>start_position</code>/<code>end_position</code> - the start and end position in the input
  stream where the node starts/ends. It is given in absolute 0-based offset. To
  convert to line/column format for textual inputs you can use
  <code>parglare.pos_to_linecol(input_str, position)</code> function which returns tuple
  <code>(line, column)</code>. Of course, this call doesn't make any sense if you are
  parsing a non-textual content.</li>
<li><code>layout_content</code> - the layout that preceeds the given tree node. The layout
  consists of whitespaces/comments.</li>
<li><code>symbol</code> - a grammar symbol this node is created for.</li>
</ul>
<p>Additionally, each <code>NodeTerm</code> has:</p>
<ul>
<li><code>value</code> - the value (a part of input_str) which this terminal represents. It
  can be viewed as <code>input_str[start_position:end_position]</code>.</li>
</ul>
<p>Additionally, each <code>NodeNonTerm</code> has:</p>
<ul>
<li><code>children</code> - subnodes which are also of <code>NodeNonTerm</code>/<code>NodeTerm</code> type.
  <code>NodeNonTerm</code> is iterable. Iterating over it will iterate over its children.</li>
<li><code>production</code> - a grammar production which reduction created this node.</li>
</ul>
<p>Each node has a <code>tree_str()</code> method which will return a string representation of
the subtree starting from the given node. If called on root node it will return
the string representation of the whole tree.</p>
<p>For example, parsing the input <code>1 + 2 * 3 -1</code> using default actions (thus,
producing the parse tree) will look like this if printed with <code>tree_str()</code>:</p>
<pre><code>E[0]
E[0]
  E[0]
    number[0, 1]
  +[2, +]
  E[4]
    E[4]
      number[4, 2]
    *[6, *]
    E[8]
      number[8, 3]
-[10, -]
E[11]
  number[11, 1]
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../recovery/" class="btn btn-neutral float-right" title="Error recovery">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../conflicts/" class="btn btn-neutral" title="Conflicts resolving"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2017 <a href="http://igordejanovic.net/">Igor Dejanović</a>.</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/igordejanovic/parglare" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../conflicts/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../recovery/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
